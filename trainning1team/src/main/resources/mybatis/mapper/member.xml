<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bnksystem.trainning1team.mapper.MemberMapper">

    <select id="memberLogin" resultType="com.bnksystem.trainning1team.dto.Member.LoginResponse">
        SELECT emp_no
        FROM tb_members
        WHERE login_id = #{loginId} AND login_pw = SHA2(#{loginPw}, 256)
    </select>

    <insert id="insertMember">
        INSERT INTO tb_members (emp_no, login_id, login_pw, role_nm)
        VALUES (#{empNo},#{loginId}, SHA2(#{loginPw}, 256), #{roleNm})
    </insert>

    <select id="selectMemberInfo" resultType="com.bnksystem.trainning1team.dto.Member.MemberInfoDto">
        SELECT id, emp_no, role_nm
        FROM tb_members
        WHERE emp_no = #{empNo}
    </select>

</mapper>